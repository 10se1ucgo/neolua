<?xml version="1.0" encoding="utf-8"?>
<Project ToolsVersion="4.0" DefaultTargets="Test" xmlns="http://schemas.microsoft.com/developer/msbuild/2003">
  <UsingTask TaskName="HalloLua" TaskFactory="Neo.IronLua.LuaTaskFactory" AssemblyFile="..\bin\Debug\Neo.Lua.MSBuild.dll">
    <ParameterGroup>
      <Text ParameterType="System.String" Required="false" Output="true" />
    </ParameterGroup>
    <Task>
      <![CDATA[
      log.LogMessage(Text);
      clr.System.Console:Beep();
      Text = 'Hallo from Lua!';
      ]]>
    </Task>
  </UsingTask>

  <PropertyGroup>
    <Hallo>Hallo from MSBuild!</Hallo>
  </PropertyGroup>

  <Target Name="Test">
    <HalloLua Text="$(Hallo)">
      <Output TaskParameter="Text" PropertyName="Hallo"/>
    </HalloLua>
    <Message Text="$(Hallo)" />
  </Target>
</Project>